---
tags:
  - Studies
  - CyberSecurity
  - Commands
  - Networking
aliases:
  - Switch Port Security
description: Implementing measures to control and restrict access to network ports on routers, switches, etc.
cssclasses:
  - commands
---
Port security in networking involves implementing measures to control and restrict access to network ports, mitigating unauthorised device connections and enhancing overall network security.

## Configuration Commands

| Mode        | Command                                                                                | Description                                                                                                         | Variable Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :---------- | :------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `config`    | `interface range {int-range}`                                                          | Enters interface configuration mode for a range of interfaces.                                                      | `int-range` is a range of interfaces e.g. `F0/2 - 24`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `config-if` | `shutdown`                                                                             | Shuts down the interface or interface range.                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `config`    | `interface range {int-range}`                                                          | Enters interface configuration mode for a range of interfaces.                                                      | `int-range` is a range of interfaces e.g. `F0/2 - 24`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `config-if` | `switchport mode access`                                                               | Sets the port to access mode (rather than trunk). Must be in this mode to enable Port Security.                     | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `config-if` | `switchport port-security`                                                             | Enables Port Security on the interface(s)                                                                           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `config-if` | `switchport port-security aging [static / time {time} / type [absolute / inactivity]]` | Configures the timer after which learned MAC addresses on the port will expire.                                     | `[static]` Enables aging for statically configured secure addresses on the port. `[time {time}]` Specifies the aging time for the port in a range of `0` to `1440` minutes. If `0`, aging is disabled. `[type [absolute / inactivity]]` Sets the type of aging. Absolute will age out all addresses after a particular time. Inactivity will age out only if there is no traffic to/from them.                                                                                                                                                                                                                                 |
| `config-if` | `switchport port-security violation [protect / restrict / shutdown]`                   | Configures what happens in the event of a port security violation.                                                  | `[protect]` will drop packets with the unknown mac address until you remove enough mac addresses to learn the new one (or increase the maximum). No Syslog messages are sent. `[restrict]` will drop packets with the unknown mac address until you remove enough mac addresses to learn the new one (or increase the maximum). The violation counter will increment by 1 and a Syslog message is generated. `[shutdown]` The default mode. This will error-disable the port as soon as a violation occurs. It will also increment the violation counter and send a syslog message. An admin must manually re-enable the port. |
| `config-if` | `switchport port-security maximum {num}`                                               | Sets the maximum allowable learned MAC addresses on an interface.                                                   | `{num}` the number of learnable MAC addresses before a violation occurs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `config-if` | `switchport port-security mac-address [{address} / sticky]`                            | Manually 'learns' a specific MAC address.                                                                           | `{address}` is the MAC address (dot-separated) that you want to tell the device about in this format: `aaaa.bbbb.ssss`. `sticky` is a keyword used to permit any mac addresses, but only up to the maximum, and to retain the 'learned' state of these addresses even after a reboot.                                                                                                                                                                                                                                                                                                                                          |
| `config`    | `mac address-table notification`                                                       | Sends SNMP Trap messages to the [[NMS]] whenever a MAC address is added, or removed, from Switch forwarding tables. | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

> [!tip]- Best Practice
> It is best practice to manually fix the port mode using the `switchport mode access` command. This also applies to Trunk ports (`switchport mode trunk`).

## Bringing `err-disabled` Ports Back Up

| Mode        | Command          | Description                   | Variable Name                                  |
| :---------- | :--------------- | :---------------------------- | ---------------------------------------------- |
| `config`    | `interface {if}` | Enters interface config mode. | `{if}` is the desired interface to bring back. |
| `config-if` | `shutdown`       | Shuts down the interface.     | N/A                                            |
| `config-if` | `no shutdown`    | Brings the interface back up. | N/A                                            |

## Show Commands

| Command                              | Description                                                                   | Variable Name                     |
| :----------------------------------- | :---------------------------------------------------------------------------- | --------------------------------- |
| `show port-security interface {int}` | Shows the port security configuration for a particular interface.             | `{int}` is the desired interface. |
| `show running-config`                | Show the device's running configuration.                                      | N/A                               |
| `show port-security address`         | Shows the learned mac addresses and how they associated port-security config. | N/A                               |
| `show port-security`                 | Shows the port security options for the device.                               | N/A                               |
| `show mac address-table dynamic`     | Shows the dynamically learned MAC addresses.                                  | N/A                               |